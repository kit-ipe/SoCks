---
import:
  - project-default.yml
project:
  type: "RaspberryPi"
blocks:
  kernel:
    source: "build"
    builder: "RaspberryPi_Kernel_Builder"
    project:
      build_srcs:
        source: "https://github.com/raspberrypi/linux.git"
        branch: "rpi-5.15.y"
      # If no 'import_src' property is specified, the block must be built locally
      add_build_info: false
    container:
      image: "kernel-builder-alma9"
      tag: "socks"
  image:
    source: "build"
    builder: "RaspberryPi_Image_Builder"
    project:
      # If no 'import_src' property is specified, the block must be built locally
      size_boot_partition: 500
      size_rootfs_partition: 3500
      dependencies:
        kernel: "temp/kernel/output/bp_kernel_*.tar.gz"
    container:
      image: "amd-image-builder-alma9"
      tag: "socks"
