---
import:
  - project-versal-default.yml
project:
  name: "test-project"
external_tools:
  xilinx:
    version: "2024.2"
blocks:
  vivado:
    source: "import"
    builder: "Versal_AMD_Vivado_logicc_Builder"
    project:
      import_src: "file:///home/marvin/Projects/Build_System_Tests/SoCks/test_project_versal/vivado_import.tar.gz"
      build_srcs:
        source: "ssh://git@gitlab.kit.edu/kit/ipe-sdr/ipe-sdr-dev/hardware/sdr_hardware.git"
        branch: "452-use-commit-id-of-sdr-hardware-instead-of-yocto-in-the-pimc"
      name: "cap_zcu216_echo"
    container:
      image: "logicc-builder-alma8"
  rootfs:
    source: "build"
    builder: "Versal_AlmaLinux_RootFS_Builder"
    project:
      release: "9"
      addl_pkgs: ["gcc", "gcc-c++", "make", "dhclient", "python3-devel", "python3-click", "python3-numpy", "python3-pyserial", "glibc-headers", "glibc-devel", "zlib-devel", "libuuid ", "libuuid-devel", "pam-devel", "openldap-devel ", "pugixml-devel", "which", "gdb", "expect", "net-tools", "boost-chrono", "boost-regex", "boost-thread", "boost-filesystem", "boost-system", "boost-devel", "boost-program-options", "readline-devel", "emacs", "nano", "rsync", "git", "lighttpd", "strace", "minicom", "i2c-tools", "screen", "chrony", "rpm-build-libs", "rpm-build", "python3-pip", "nss", "nss-devel", "freeipmi", "cmake3", "log4cplus-devel", "yaml-cpp-devel", "msgpack-devel", "cppzmq-devel", "dosfstools", "libxml2-devel", "python3-libxml2", "python3-lxml", "libxml2 ", "libxslt ", "libxslt-devel", "python3-psutil", "python3-setuptools-wheel", "llvm-toolset", "dnf", "smash*"]
      # alma8 # addl_pkgs: ["gcc", "gcc-c++", "make", "dhclient", "python3-devel", "python3-click", "python3-numpy", "python3-pyserial", "glibc-headers", "glibc-devel", "zlib-devel", "libuuid ", "libuuid-devel", "pam-devel", "openldap-devel ", "pugixml-devel", "gdb", "expect", "net-tools", "boost-chrono", "boost-regex", "boost-thread", "boost-filesystem", "boost-system", "boost-devel", "boost-program-options", "readline-devel", "emacs", "nano", "rsync", "git", "lighttpd", "strace", "minicom", "i2c-tools", "screen", "rpm-build-libs", "rpm-build", "python3-pip", "nss", "nss-devel", "freeipmi", "cmake3", "log4cplus-devel", "yaml-cpp-devel", "msgpack-devel", "cppzmq-devel", "dosfstools", "libxml2", "libxml2-devel", "python3-libxml2", "python3-lxml", "libxslt ", "libxslt-devel", "python3-psutil", "python3-setuptools-wheel", "llvm-toolset", "podman", "locmap-release", "locmap", "smash*"]
      users:
        - name: "root"
          pw_hash: "$1$abFTnq2K$2Obyh.ZKwwExNujN/aCjQ." # alma
        - name: "kria"
          pw_hash: "$1$X6DWcY5/$GQ3ZFNgCGxOSgOZMT6Bkc1" # cms.higgs
          groups: ["wheel", "dialout"]
      add_build_info: false
      # If no 'import_src' property is specified, the block must be built locally
      dependencies:
        kernel: "temp/kernel/output/bp_kernel_*.tar.gz"
    container:
      image: "alma9-rootfs-builder-alma9"
      tag: "socks"
  image:
    project:
      dependencies:
        rootfs: "temp/rootfs/output/bp_rootfs_*.tar.gz"
