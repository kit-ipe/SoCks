From 3cad1f2ecd3a307630b7068502fe46dac8d69bfb Mon Sep 17 00:00:00 2001
From: "marvin.fuchs" <marvin.fuchs@kit.edu>
Date: Wed, 22 May 2024 19:21:36 +0200
Subject: [PATCH] Add file2env to boot command

---
 .config | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

diff --git a/.config b/.config
index f35806bbd2..946c9f9a3c 100644
--- a/.config
+++ b/.config
@@ -369,7 +369,7 @@ CONFIG_BOOTDELAY=2
 # CONFIG_USE_BOOTARGS is not set
 # CONFIG_BOOTARGS_SUBST is not set
 CONFIG_USE_BOOTCOMMAND=y
-CONFIG_BOOTCOMMAND="run distro_bootcmd"
+CONFIG_BOOTCOMMAND="fatload mmc 0 0x30000000 uboot_rt_env_main.cfg; file2env ${fileaddr} ${filesize}; run distro_bootcmd;"
 CONFIG_USE_PREBOOT=y
 CONFIG_PREBOOT="run scsi_init;usb start"
 CONFIG_DEFAULT_FDT_FILE=""
@@ -767,6 +767,7 @@ CONFIG_CMD_SYSBOOT=y
 # CONFIG_CMD_PSTORE is not set
 # CONFIG_CMD_TERMINAL is not set
 # CONFIG_CMD_UUID is not set
+CONFIG_CMD_FILE2ENV=y
 
 #
 # TI specific command line interface
-- 
2.25.1

